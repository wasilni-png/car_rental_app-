<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุชุงูุณู ูุตููู - ุฎุฏูุฉ ุงูุชูุตูู ุงูุณุฑูุน</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body class="rtl">
    <!-- ุงูููุฏุฑ ุงููุญุณู -->
    <header class="header">
        <div class="header-content">
            <a href="{{ url_for('order_form') }}" class="logo">
                <div class="logo-icon">
                    ๐
                </div>
                <div class="logo-text">
                    <h1>ุชุงูุณู ูุตููู</h1>
                    <p class="tagline">ุฎุฏูุฉ ุงูุชูุตูู ุงูุณุฑูุน ูุงููุถููู</p>
                </div>
            </a>
        </div>
    </header>

    <div class="container">
        <div class="hero-section">
            <div class="hero-content">
                <h1 class="hero-title">๐ ุชุงูุณู ูุตููู</h1>
                <p class="hero-subtitle">ุฎุฏูุฉ ุงูุชูุตูู ุงูุณุฑูุน ูุงููุถููู ูู ุฌููุน ุฃูุญุงุก ุงููุฏููุฉ</p>
            </div>
        </div>

        <div class="form-container">
            <div class="form-header">
                <h2>๐ฆ ุทูุจ ุชูุตูู ุฌุฏูุฏ</h2>
                <p>ุงููุฃ ุงููููุฐุฌ ุฃุฏูุงู ูุทูุจ ุฎุฏูุฉ ุงูุชูุตูู</p>
            </div>
            
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <div class="alert alert-{{ category }}">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}

            <form method="POST" action="{{ url_for('submit_order') }}" class="delivery-form">
                <!-- ุฑูู ุงููุงุชุณุงุจ ููุท -->
                <div class="form-section">
                    <h3 class="section-title">๐ ุฑูู ุงููุงุชุณุงุจ</h3>
                    <div class="form-group whatsapp-only">
                        <label for="whatsapp">ุฑูู ุงููุงุชุณุงุจ *</label>
                        <input type="tel" id="whatsapp" name="whatsapp" required 
                               placeholder="ุฃุฏุฎู ุฑูู ุงููุงุชุณุงุจ ูุซุงู: 0512345678"
                               style="text-align: center; font-size: 18px; padding: 20px;"
                               pattern="[0-9]{10}" 
                               title="ูุฑุฌู ุฅุฏุฎุงู 10 ุฃุฑูุงู">
                        <small class="form-text">ุณูุชู ุงูุชูุงุตู ูุนู ุนุจุฑ ูุงุชุณุงุจ ูุชุฃููุฏ ุทูุจู</small>
                    </div>
                </div><!-- ุชูุงุตูู ุงูุชูุตูู -->
<div class="form-section">
    <h3 class="section-title">๐ ุชูุงุตูู ุงูุชูุตูู</h3>
    <div class="form-row">
        <div class="form-group">
            <label for="delivery_type">ููุน ุงูุชูุตูู *</label>
            <select id="delivery_type" name="delivery_type" required>
                <option value="">ุงุฎุชุฑ ููุน ุงูุชูุตูู</option>
                <option value="๐จโ๐ผ ุชูุตูู ููุธู ุดูุฑู">๐จโ๐ผ ุชูุตูู ููุธู ุดูุฑู</option>
                <option value="๐ ุชูุตูู ุทูุงุจ ุดูุฑู">๐ ุชูุตูู ุทูุงุจ ุดูุฑู</option>
                <option value="โก ุชูุตูู ุทูุจ ููุฑู">โก ุชูุตูู ุทูุจ ููุฑู</option>
                <option value="๐ ุชูุตูู ูููู">๐ ุชูุตูู ูููู</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="start_date">ุชุงุฑูุฎ ุงูุจุฏุก ุจุงูุชูุตูู *</label>
            <input type="datetime-local" id="start_date" name="start_date" required>
        </div>
    </div>

    <div class="form-row">
        <div class="form-group">
            <label for="delivery_duration">ูุฏุฉ ุงูุชูุตูู *</label>
            <select id="delivery_duration" name="delivery_duration" required>
                <option value="">ููุน ุงูุณุงุฆู</option>
                <option value="ุฐูุฑ">ุฐูุฑ</option>
                <option value="ุฃูุซู">ุฃูุซู</option>
               <!--- <option value="ูุตู ููู">ูุตู ููู (ูค-ูฆ ุณุงุนุงุช)</option>
                <option value="ููู ูุงูู">ููู ูุงูู</option>
                <option value="ุดูุฑู">ุดูุฑู</option>-->
            </select>
        </div>
        
        <div class="form-group">
            <label for="amount_paid">ุงููุจูุบ ุงููุฏููุน (ุฑูุงู ุณุนูุฏู) *</label>
            <input type="number" id="amount_paid" name="amount_paid" required 
                   min="0" step="0.01" placeholder="0.00">
        </div>
    </div>
</div>
                <!-- ุงูููุงูุน -->
                <div class="form-section">
                    <h3 class="section-title">๐ ุงูููุงูุน</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="current_location">ูููุน ุงูุชูุงุฌุฏ ุงูุญุงูู *</label>
                            <input type="text" id="current_location" name="current_location" required 
                                   placeholder="ุฃุฏุฎู ูููุนู ุงูุญุงูู">
                        </div>
                        
                        <div class="form-group">
                            <label for="location">ูููุน ุงูุชูุตูู *</label>
                            <input type="text" id="location" name="location" required 
                                   placeholder="ุนููุงู ุงูุชูุตูู ุงููุงูู">
                        </div>
                    </div>
                </div>

                <button type="submit" class="btn-submit">
                    <span class="btn-icon">๐</span>
                    ุชุฃููุฏ ุทูุจ ุงูุชูุตูู
                </button>
            </form>
        </div>

        <div class="features-section">
            <div class="container">
                <h2 class="features-title">โจ ููุงุฐุง ุชุฎุชุงุฑ ุชุงูุณู ูุตูููุ</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">โก</div>
                        <h3>ุชูุตูู ุณุฑูุน</h3>
                        <p>ุฎุฏูุฉ ุชูุตูู ููุฑูุฉ ูู ุฌููุน ุฃูุญุงุก ุงููุฏููุฉ</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">๐ก๏ธ</div>
                        <h3>ุขูู ููุถููู</h3>
                        <p>ุฌููุน ุทูุจุงุชูุง ูุคููุฉ ููุชุงุจุนุฉ ุญุชู ุงููุตูู</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">๐ณ</div>
                        <h3>ุฏูุน ุขูู</h3>
                        <p>ุฃูุธูุฉ ุฏูุน ูุชุนุฏุฏุฉ ูุขููุฉ</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">๐</div>
                        <h3>ุฏุนู ููุฑู</h3>
                        <p>ุฏุนู ููู ุนูู ูุฏุงุฑ ุงูุณุงุนุฉ</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ุงูุชุญูู ูู ุตุญุฉ ุฑูู ุงููุงุชุณุงุจ
        document.getElementById('whatsapp').addEventListener('blur', function() {
            const whatsapp = this.value.trim();
            const saudiPattern = /^(05)(5|0|3|6|4|9|1|8|7|2)([0-9]{7})$/;
            
            if (whatsapp && !saudiPattern.test(whatsapp)) {
                this.style.borderColor = '#e74c3c';
                this.style.background = '#fdf2f2';
                alert('โ๏ธ ูุฑุฌู ุฅุฏุฎุงู ุฑูู ูุงุชุณุงุจ ุณุนูุฏู ุตุญูุญ (ูุซุงู: 0512345678)');
            } else {
                this.style.borderColor = '#25D366';
                this.style.background = '#f2fdf2';
            }
        });

        // ุชุนููู ุงูุชุงุฑูุฎ ูุงูููุช ุงูุญุงูููู ููููุฉ ุงูุชุฑุงุถูุฉ
        window.addEventListener('load', function() {
            const now = new Date();
            now.setMinutes(now.getMinutes() - now.getTimezoneOffset());
            document.getElementById('start_date').value = now.toISOString().slice(0, 16);
        });
// ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ุจูุงุกู ุนูู ููุน ุงูุชูุตูู
document.getElementById('delivery_type').addEventListener('change', function() {
    const deliveryType = this.value;
    const durationSelect = document.getElementById('delivery_duration');
    const amountInput = document.getElementById('amount_paid');
    
    // ุฅุนุงุฏุฉ ุชุนููู ุงูุฎูุงุฑุงุช
    durationSelect.innerHTML = `
        <option value="">ุงุฎุชุฑ ุงููุฏุฉ</option>
        <option value="ุณุงุนุฉ ูุงุญุฏุฉ">ุณุงุนุฉ ูุงุญุฏุฉ</option>
        <option value="ูข-ูฃ ุณุงุนุงุช">ูข-ูฃ ุณุงุนุงุช</option>
        <option value="ูุตู ููู">ูุตู ููู (ูค-ูฆ ุณุงุนุงุช)</option>
        <option value="ููู ูุงูู">ููู ูุงูู</option>
        <option value="ุดูุฑู">ุดูุฑู</option>
    `;
    
    // ุชุนุฏูู ุงูุฎูุงุฑุงุช ุจูุงุกู ุนูู ููุน ุงูุชูุตูู
    if (deliveryType.includes('ุดูุฑู')) {
        // ููุฎุฏูุงุช ุงูุดูุฑูุฉุ ูุฌุนู "ุดูุฑู" ูู ุงูุฎูุงุฑ ุงูุงูุชุฑุงุถู
        durationSelect.value = 'ุดูุฑู';
        
        // ุชุนููู ูุจูุบ ุงูุชุฑุงุถู ููุฎุฏูุงุช ุงูุดูุฑูุฉ
        if (deliveryType.includes('ููุธู')) {
            amountInput.placeholder = "500.00"; // ูุจูุบ ุงูุชุฑุงุถู ูุชูุตูู ุงูููุธููู ุงูุดูุฑู
        } else if (deliveryType.includes('ุทูุงุจ')) {
            amountInput.placeholder = "300.00"; // ูุจูุบ ุงูุชุฑุงุถู ูุชูุตูู ุงูุทูุงุจ ุงูุดูุฑู
        }
    } else if (deliveryType.includes('ููุฑู')) {
        // ููุทูุจุงุช ุงูููุฑูุฉุ ูุญุฏุฏ ุงููุฏุฉ ุฅูู ุณุงุนุฉ ูุงุญุฏุฉ
        durationSelect.value = 'ุณุงุนุฉ ูุงุญุฏุฉ';
        amountInput.placeholder = "50.00"; // ูุจูุบ ุงูุชุฑุงุถู ููุทูุจุงุช ุงูููุฑูุฉ
    } else if (deliveryType.includes('ูููู')) {
        // ููุชูุตูู ุงูููููุ ูุญุฏุฏ ุงููุฏุฉ ุฅูู ููู ูุงูู
        durationSelect.value = 'ููู ูุงูู';
        amountInput.placeholder = "100.00"; // ูุจูุบ ุงูุชุฑุงุถู ููุชูุตูู ุงููููู
    }
});

// ุชุนููู ุงูุชุงุฑูุฎ ูุงูููุช ุงูุญุงูููู ููููุฉ ุงูุชุฑุงุถูุฉ
window.addEventListener('load', function() {
    const now = new Date();
    now.setMinutes(now.getMinutes() - now.getTimezoneOffset());
    document.getElementById('start_date').value = now.toISOString().slice(0, 16);
    
    // ุชุญููุฒ ุญุฏุซ change ูุชุนููู ุงูููู ุงูุงูุชุฑุงุถูุฉ
    document.getElementById('delivery_type').dispatchEvent(new Event('change'));
});
    </script>
</body>
</html>
